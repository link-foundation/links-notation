(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();class a{constructor(){this.initializePlayground()}initializePlayground(){const e=document.getElementById("parse-btn"),n=document.getElementById("input"),t=document.getElementById("output");e&&n&&t&&(e.addEventListener("click",()=>{this.parseInput()}),n.addEventListener("input",()=>{clearTimeout(this.parseTimeout),this.parseTimeout=setTimeout(()=>{this.parseInput()},300)}),this.parseInput())}parseInput(){const e=document.getElementById("input"),n=document.getElementById("output");if(!e||!n)return;const t=e.value.trim();if(!t){n.textContent="Enter some Links Notation to see the parsed result...";return}try{const r=this.parseLinksNotation(t);n.textContent=JSON.stringify(r,null,2)}catch(r){n.textContent=`Parse Error: ${r.message}`}}parseLinksNotation(e){const n=e.split(`
`).filter(r=>r.trim()),t=[];for(let r=0;r<n.length;r++){const i=n[r].trim();if(!i)continue;const s=this.parseLine(i,r);s&&t.push(s)}return{type:"links-notation",version:"0.6.0",links:t,totalLinks:t.length}}parseLine(e,n){const t=e.trim();let r=t,i=!1;t.startsWith("(")&&t.endsWith(")")&&(r=t.slice(1,-1),i=!0);const s=this.tokenize(r);return{id:`link_${n}`,original:e,wrapped:i,references:s,type:this.determineType(s)}}tokenize(e){const n=[];let t="",r=0,i=!1;for(let s=0;s<e.length;s++){const o=e[s];o==='"'&&e[s-1]!=="\\"?(i=!i,t+=o):i?t+=o:o==="("?(t.trim()&&(n.push(this.createToken(t.trim())),t=""),r++,t+=o):o===")"?(r--,t+=o,r===0&&t.trim()&&(n.push(this.createToken(t.trim())),t="")):r===0&&(o===" "||o==="	")?t.trim()&&(n.push(this.createToken(t.trim())),t=""):t+=o}return t.trim()&&n.push(this.createToken(t.trim())),n}createToken(e){const n=e.indexOf(":");return n>0&&n<e.length-1?{type:"labeled-reference",label:e.substring(0,n).trim(),value:e.substring(n+1).trim(),original:e}:e.startsWith("(")&&e.endsWith(")")?{type:"nested-link",content:e.slice(1,-1),references:this.tokenize(e.slice(1,-1)),original:e}:{type:"reference",value:e,original:e}}determineType(e){return e.length===0?"empty":e.length===1?"singleton":e.length===2?"doublet":e.length===3?"triplet":`${e.length}-tuple`}}document.addEventListener("DOMContentLoaded",()=>{new a,document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(t){t.preventDefault();const r=document.querySelector(this.getAttribute("href"));r&&r.scrollIntoView({behavior:"smooth",block:"start"})})});const l={threshold:.1,rootMargin:"0px 0px -50px 0px"},e=new IntersectionObserver(n=>{n.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},l);document.querySelectorAll(".feature, .example-card, .doc-card").forEach(n=>{n.style.opacity="0",n.style.transform="translateY(20px)",n.style.transition="opacity 0.6s ease, transform 0.6s ease",e.observe(n)})});
