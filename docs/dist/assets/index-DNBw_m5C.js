(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();class u{constructor(){this.inputElement=document.getElementById("input"),this.outputElement=document.getElementById("output"),this.parseBtn=document.getElementById("parse-btn"),this.parseTimeout=null,this.initializePlayground()}initializePlayground(){!this.parseBtn||!this.inputElement||!this.outputElement||(this.parseBtn.addEventListener("click",()=>{this.parseInput()}),this.inputElement.addEventListener("input",()=>{clearTimeout(this.parseTimeout),this.parseTimeout=setTimeout(()=>{this.parseInput()},300)}),this.parseInput())}parseInput(){if(!this.inputElement||!this.outputElement)return;const e=this.inputElement.value.trim();if(!e){this.outputElement.textContent="Enter some Links Notation to see the parsed result...";return}this.parseAndDisplay(e)}parseAndDisplay(e){try{const n=this.parseLinksNotation(e);this.outputElement.textContent=JSON.stringify(n,null,2)}catch(n){this.outputElement.textContent=`Parse Error: ${n.message}`}}parseLinksNotation(e){const n=e.split(`
`).filter(t=>t.trim()),r=[];for(let t=0;t<n.length;t++){if(t<0||t>=n.length)continue;const i=n[t].trim();if(!i)continue;const s=this.parseLine(i,t);s&&r.push(s)}return{type:"links-notation",version:"0.6.0",links:r,totalLinks:r.length}}parseLine(e,n){const r=e.trim();let t=r,i=!1;r.startsWith("(")&&r.endsWith(")")&&(t=r.slice(1,-1),i=!0);const s=this.tokenize(t);return{id:`link_${n}`,original:e,wrapped:i,references:s,type:this.determineType(s)}}tokenize(e){const n=[];let r="",t=0,i=!1;for(let s=0;s<e.length;s++){if(s<0||s>=e.length)continue;const a=e[s],c=s>0&&s-1>=0?e[s-1]:null;if(this.isQuoteToggle(a,c)){i=!i,r+=a;continue}if(i){r+=a;continue}const l=this.processChar(a,r,t,n);r=l.current,t=l.inParens}return this.addTokenIfValid(r,n),n}isQuoteToggle(e,n){return e==='"'&&n!=="\\"}processChar(e,n,r,t){return e==="("?this.handleOpenParen(n,r,t):e===")"?this.handleCloseParen(n,r,t):this.isWhitespace(e)&&r===0?this.handleWhitespace(n,r,t):{current:n+e,inParens:r}}handleOpenParen(e,n,r){return this.addTokenIfValid(e,r),{current:"(",inParens:n+1}}handleCloseParen(e,n,r){const t=n-1,i=e+")";return t===0?(this.addTokenIfValid(i,r),{current:"",inParens:t}):{current:i,inParens:t}}handleWhitespace(e,n,r){return this.addTokenIfValid(e,r),{current:"",inParens:n}}isWhitespace(e){return e===" "||e==="	"}addTokenIfValid(e,n){const r=e.trim();r&&n.push(this.createToken(r))}createToken(e){return this.isLabeledReference(e)?this.createLabeledReference(e):this.isNestedLink(e)?this.createNestedLink(e):this.createSimpleReference(e)}isLabeledReference(e){const n=e.indexOf(":");return n>0&&n<e.length-1}createLabeledReference(e){const n=e.indexOf(":");return{type:"labeled-reference",label:e.substring(0,n).trim(),value:e.substring(n+1).trim(),original:e}}isNestedLink(e){return e.startsWith("(")&&e.endsWith(")")}createNestedLink(e){const n=e.slice(1,-1);return{type:"nested-link",content:n,references:this.tokenize(n),original:e}}createSimpleReference(e){return{type:"reference",value:e,original:e}}determineType(e){const n=["empty","singleton","doublet","triplet"];return e.length<n.length?n[e.length]:`${e.length}-tuple`}}document.addEventListener("DOMContentLoaded",()=>{new u;const o=document.querySelector(".nav-toggle"),e=document.querySelector(".nav-links");o&&e&&(o.addEventListener("click",()=>{const t=o.getAttribute("aria-expanded")==="true";o.setAttribute("aria-expanded",!t),e.classList.toggle("active")}),e.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{e.classList.remove("active"),o.setAttribute("aria-expanded","false")})}),document.addEventListener("click",t=>{!o.contains(t.target)&&!e.contains(t.target)&&(e.classList.remove("active"),o.setAttribute("aria-expanded","false"))})),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(i){i.preventDefault();const s=document.querySelector(this.getAttribute("href"));s&&s.scrollIntoView({behavior:"smooth",block:"start"})})});const n={threshold:.1,rootMargin:"0px 0px -50px 0px"},r=new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting&&(i.target.style.opacity="1",i.target.style.transform="translateY(0)")})},n);document.querySelectorAll(".feature, .example-card, .doc-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",r.observe(t)})});
